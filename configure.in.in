AM_INIT_AUTOMAKE(krecipes, 0.3)
AC_C_BIGENDIAN
AC_CHECK_KDEMAXPATHLEN

dnl ----- Check for existing MySQL ------

AC_DEFUN(AC_HAVE_MYSQL,
[
        AC_DEFINE(HAVE_MYSQL, 1, [have MySQL])
        have_mysql=true
])

AC_DEFUN(AC_NO_MYSQL,
[
        AC_DEFINE(HAVE_MYSQL, 0, [have MySQL])
        have_mysql=false
])

KDE_CHECK_HEADER(mysql/mysql.h,
        AC_HAVE_MYSQL,
        AC_NO_MYSQL
)

dnl ------ Check for the SQLite headers -----

AC_DEFUN(AC_HAVE_SQLITE,
[
        AC_DEFINE(HAVE_SQLITE, 1, [have SQLite])
        have_sqlite=true
])

AC_DEFUN(AC_NO_SQLITE,
[
        AC_DEFINE(HAVE_SQLITE, 0, [have SQLite])
        have_sqlite=false
])

KDE_CHECK_HEADER(sqlite.h,
        AC_HAVE_SQLITE,
        AC_NO_SQLITE
)


dnl ----------- Should I link or should I not link? ---------
AM_CONDITIONAL(link_lib_MYSQL, test x$have_mysql = xtrue)
AM_CONDITIONAL(link_lib_SQLITE, test x$have_sqlite = xtrue)

